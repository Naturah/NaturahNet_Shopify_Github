var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function i(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var e=function(t){var i=typeof t;return null!=t&&("object"==i||"function"==i)},n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")(),a=o,u=function(){return a.Date.now()},l=/\s/;var c=function(t){for(var i=t.length;i--&&l.test(t.charAt(i)););return i},f=/^\s+/;var s=function(t){return t?t.slice(0,c(t)+1).replace(f,""):t},v=o.Symbol,d=v,p=Object.prototype,b=p.hasOwnProperty,y=p.toString,w=d?d.toStringTag:void 0;var h=function(t){var i=b.call(t,w),e=t[w];try{t[w]=void 0;var n=!0}catch(t){}var r=y.call(t);return n&&(i?t[w]=e:delete t[w]),r},g=Object.prototype.toString;var S=h,j=function(t){return g.call(t)},m=v?v.toStringTag:void 0;var O=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":m&&m in Object(t)?S(t):j(t)},T=function(t){return null!=t&&"object"==typeof t};var _=s,x=e,N=function(t){return"symbol"==typeof t||T(t)&&"[object Symbol]"==O(t)},M=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,P=/^0o[0-7]+$/i,W=parseInt;var $=e,A=u,D=function(t){if("number"==typeof t)return t;if(N(t))return NaN;if(x(t)){var i="function"==typeof t.valueOf?t.valueOf():t;t=x(i)?i+"":i}if("string"!=typeof t)return 0===t?t:+t;t=_(t);var e=C.test(t);return e||P.test(t)?W(t.slice(2),e?2:8):M.test(t)?NaN:+t},E=Math.max,F=Math.min;var U=i((function(t,i,e){var n,r,o,a,u,l,c=0,f=!1,s=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(i){var e=n,o=r;return n=r=void 0,c=i,a=t.apply(o,e)}function p(t){var e=t-l;return void 0===l||e>=i||e<0||s&&t-c>=o}function b(){var t=A();if(p(t))return y(t);u=setTimeout(b,function(t){var e=i-(t-l);return s?F(e,o-(t-c)):e}(t))}function y(t){return u=void 0,v&&n?d(t):(n=r=void 0,a)}function w(){var t=A(),e=p(t);if(n=arguments,r=this,l=t,e){if(void 0===u)return function(t){return c=t,u=setTimeout(b,i),f?d(t):a}(l);if(s)return clearTimeout(u),u=setTimeout(b,i),d(l)}return void 0===u&&(u=setTimeout(b,i)),a}return i=D(i)||0,$(e)&&(f=!!e.leading,o=(s="maxWait"in e)?E(D(e.maxWait)||0,i):o,v="trailing"in e?!!e.trailing:v),w.cancel=function(){void 0!==u&&clearTimeout(u),c=0,n=l=r=u=void 0},w.flush=function(){return void 0===u?a:y(A())},w}));const q=function(){function t(t){this.container=t,this.fetchContent=U(this.__fetchContent.bind(this),500,{leading:!0,trailing:!0}),window.Spruce.store("availability").product_title=this.container.dataset.productTitle}return t.prototype=Object.assign({},t.prototype,{__fetchContent:function(t){if(window.Spruce.store("availability").availability[t.id])return window.Spruce.store("availability").current_variant=t,void(window.Spruce.store("availability").loading=!1);{let i=this.container.dataset.baseUrl;i.endsWith("/")||(i+="/");const e=i+"variants/"+t.id+"/?section_id=store-availability";return window.Spruce.store("availability").loading=!0,fetch(e).then((function(t){return t.text()})).then((function(i){window.Spruce.store("availability").loading=!1,window.Spruce.store("availability").current_variant=t;let e="";const n=(new DOMParser).parseFromString(i,"text/html").querySelector("[data-availability-json]");n&&(e=JSON.parse(n.innerHTML)),window.Spruce.store("availability").availability[e.variant]=e.availability}))}}}),t}();window.StoreAvailability=q;
